<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="riscv__cfft__radix4__q31_8c" kind="file">
    <compoundname>riscv_cfft_radix4_q31.c</compoundname>
    <includes refid="riscv__math_8h" local="yes">riscv_math.h</includes>
    <includedby refid="TransformFunctions_8c" local="yes">TransformFunctions.c</includedby>
      <sectiondef kind="func">
      <memberdef kind="function" id="riscv__cfft__radix4__q31_8c_1a288319995455332a5d5479c341d41d9c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void riscv_radix4_butterfly_inverse_q31</definition>
        <argsstring>(q31_t *pSrc, uint32_t fftLen, const q31_t *pCoef, uint32_t twidCoefModifier)</argsstring>
        <name>riscv_radix4_butterfly_inverse_q31</name>
        <param>
          <type>q31_t *</type>
          <declname>pSrc</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>fftLen</declname>
        </param>
        <param>
          <type>const q31_t *</type>
          <declname>pCoef</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>twidCoefModifier</declname>
        </param>
        <briefdescription>
<para>Core function for the Q31 CIFFT butterfly process. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">pSrc</parametername>
</parameternamelist>
<parameterdescription>
<para>points to the in-place buffer of Q31 data type. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">fftLen</parametername>
</parameternamelist>
<parameterdescription>
<para>length of the FFT. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">pCoef</parametername>
</parameternamelist>
<parameterdescription>
<para>points to twiddle coefficient buffer. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">twidCoefModifier</parametername>
</parameternamelist>
<parameterdescription>
<para>twiddle coefficient modifier that supports different size FFTs with the same twiddle factor table. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>none </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c" line="33" column="1" bodyfile="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c" bodystart="518" bodyend="828"/>
      </memberdef>
      <memberdef kind="function" id="riscv__cfft__radix4__q31_8c_1aa429f6a61f283d6632da90ad77bbf9d5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void riscv_radix4_butterfly_q31</definition>
        <argsstring>(q31_t *pSrc, uint32_t fftLen, const q31_t *pCoef, uint32_t twidCoefModifier)</argsstring>
        <name>riscv_radix4_butterfly_q31</name>
        <param>
          <type>q31_t *</type>
          <declname>pSrc</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>fftLen</declname>
        </param>
        <param>
          <type>const q31_t *</type>
          <declname>pCoef</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>twidCoefModifier</declname>
        </param>
        <briefdescription>
<para>Core function for the Q31 CFFT butterfly process. </para>        </briefdescription>
        <detaileddescription>
<para>end of ComplexFFT group <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">pSrc</parametername>
</parameternamelist>
<parameterdescription>
<para>points to the in-place buffer of Q31 data type. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">fftLen</parametername>
</parameternamelist>
<parameterdescription>
<para>length of the FFT. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">pCoef</parametername>
</parameternamelist>
<parameterdescription>
<para>points to twiddle coefficient buffer. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">twidCoefModifier</parametername>
</parameternamelist>
<parameterdescription>
<para>twiddle coefficient modifier that supports different size FFTs with the same twiddle factor table. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>none </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c" line="39" column="1" bodyfile="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c" bodystart="146" bodyend="466"/>
      </memberdef>
      <memberdef kind="function" id="riscv__cfft__radix4__q31_8c_1aa325fa38a584ed79a543d2551690e01b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void riscv_bitreversal_q31</definition>
        <argsstring>(q31_t *pSrc, uint32_t fftLen, uint16_t bitRevFactor, const uint16_t *pBitRevTab)</argsstring>
        <name>riscv_bitreversal_q31</name>
        <param>
          <type>q31_t *</type>
          <declname>pSrc</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>fftLen</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>bitRevFactor</declname>
        </param>
        <param>
          <type>const uint16_t *</type>
          <declname>pBitRevTab</declname>
        </param>
        <briefdescription>
<para>In-place Q31 bit reversal function. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="inout">pSrc</parametername>
</parameternamelist>
<parameterdescription>
<para>points to in-place Q31 data buffer. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">fftLen</parametername>
</parameternamelist>
<parameterdescription>
<para>length of FFT. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">bitRevFactor</parametername>
</parameternamelist>
<parameterdescription>
<para>bit reversal modifier that supports different size FFTs with the same bit reversal table </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">pBitRevTab</parametername>
</parameternamelist>
<parameterdescription>
<para>points to bit reversal table </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>none </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c" line="45" column="1" bodyfile="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_bitreversal.c" bodystart="113" bodyend="171"/>
      </memberdef>
      <memberdef kind="function" id="group__ComplexFFT_1ga3bb0236efa7373a44c5ac9224fc143b8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void riscv_cfft_radix4_q31</definition>
        <argsstring>(const riscv_cfft_radix4_instance_q31 *S, q31_t *pSrc)</argsstring>
        <name>riscv_cfft_radix4_q31</name>
        <param>
          <type>const <ref refid="structriscv__cfft__radix4__instance__q31" kindref="compound">riscv_cfft_radix4_instance_q31</ref> *</type>
          <declname>S</declname>
        </param>
        <param>
          <type>q31_t *</type>
          <declname>pSrc</declname>
        </param>
        <briefdescription>
<para>Processing function for the Q31 CFFT/CIFFT. </para>        </briefdescription>
        <detaileddescription>
<para><xrefsect id="deprecated_1_deprecated000013"><xreftitle>Deprecated</xreftitle><xrefdescription><para>Do not use this function. It has been superseded by <ref refid="group__ComplexFFT_1ga5ff7e02a685c0cf6b0a93642488b4000" kindref="member">riscv_cfft_q31</ref> and will be removed in the future. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">S</parametername>
</parameternamelist>
<parameterdescription>
<para>points to an instance of the Q31 CFFT/CIFFT structure </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="inout">pSrc</parametername>
</parameternamelist>
<parameterdescription>
<para>points to the complex data buffer of size <computeroutput>2*fftLen</computeroutput>. Processing occurs in-place </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>none</para></simplesect>
</para></xrefdescription></xrefsect></para><para><simplesect kind="par"><title>Input and output formats:</title><para>Internally input is downscaled by 2 for every stage to avoid saturations inside CFFT/CIFFT process. Hence the output format is different for different FFT sizes. The input and output formats for different FFT sizes and number of bits to upscale are mentioned in the tables below for CFFT and CIFFT: </para></simplesect>
<simplesect kind="par"><title></title><para><image type="html" name="CFFTQ31.png">Input and Output Formats for Q31 CFFT</image>
 <image type="html" name="CIFFTQ31.png">Input and Output Formats for Q31 CIFFT</image>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c" line="76" column="1" bodyfile="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c" bodystart="76" bodyend="97"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>----------------------------------------------------------------------</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Project:<sp/><sp/><sp/><sp/><sp/><sp/>NMSIS<sp/>DSP<sp/>Library</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>Title:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>riscv_cfft_radix4_q31.c</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Description:<sp/><sp/>This<sp/>file<sp/>has<sp/>function<sp/>definition<sp/>of<sp/>Radix-4<sp/>FFT<sp/>&amp;<sp/>IFFT<sp/>function<sp/>and</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>In-place<sp/>bit<sp/>reversal<sp/>using<sp/>bit<sp/>reversal<sp/>table</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>$Date:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>18.<sp/>March<sp/>2019</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/>$Revision:<sp/><sp/><sp/><sp/>V1.6.0</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>Target<sp/>Processor:<sp/>RISC-V<sp/>Cores</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>--------------------------------------------------------------------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2010-2019<sp/>ARM<sp/>Limited<sp/>or<sp/>its<sp/>affiliates.<sp/>All<sp/>rights<sp/>reserved.</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2019<sp/>Nuclei<sp/>Limited.<sp/>All<sp/>rights<sp/>reserved.</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>Apache-2.0</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>License);<sp/>you<sp/>may</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*<sp/>www.apache.org/licenses/LICENSE-2.0</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>AS<sp/>IS<sp/>BASIS,<sp/>WITHOUT</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;riscv_math.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>riscv_radix4_butterfly_inverse_q31(</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*<sp/>pSrc,</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>fftLen,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>q31_t<sp/>*<sp/>pCoef,</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>twidCoefModifier);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>riscv_radix4_butterfly_q31(</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*<sp/>pSrc,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>fftLen,</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>q31_t<sp/>*<sp/>pCoef,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>twidCoefModifier);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>riscv_bitreversal_q31(</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*<sp/>pSrc,</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>fftLen,</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/>bitRevFactor,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/>*<sp/>pBitRevTab);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__ComplexFFT_1ga3bb0236efa7373a44c5ac9224fc143b8" kindref="member">riscv_cfft_radix4_q31</ref>(</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structriscv__cfft__radix4__instance__q31" kindref="compound">riscv_cfft_radix4_instance_q31</ref><sp/>*<sp/>S,</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*<sp/>pSrc)</highlight></codeline>
<codeline lineno="79"><highlight class="normal">{</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1a9bafaa0d92fbef9aab09e7313b40a797" kindref="member">ifftFlag</ref><sp/>==<sp/>1U)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Complex<sp/>IFFT<sp/>radix-4<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>riscv_radix4_butterfly_inverse_q31(pSrc,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1adce3db8595f8a27c6ed64f3abd6e77d0" kindref="member">fftLen</ref>,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1afef70e0e07653c29d54221e42cfb4551" kindref="member">pTwiddle</ref>,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1a406e550bb96b054f3edfe2dc47027ad6" kindref="member">twidCoefModifier</ref>);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Complex<sp/>FFT<sp/>radix-4<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>riscv_radix4_butterfly_q31(pSrc,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1adce3db8595f8a27c6ed64f3abd6e77d0" kindref="member">fftLen</ref>,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1afef70e0e07653c29d54221e42cfb4551" kindref="member">pTwiddle</ref>,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1a406e550bb96b054f3edfe2dc47027ad6" kindref="member">twidCoefModifier</ref>);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1a4a6a0bedffaf1c969185d72e1928d234" kindref="member">bitReverseFlag</ref><sp/>==<sp/>1U)</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Bit<sp/>Reversal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>riscv_bitreversal_q31(pSrc,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1adce3db8595f8a27c6ed64f3abd6e77d0" kindref="member">fftLen</ref>,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1ab9a686b9ebdd217f5fcbf58423ad125b" kindref="member">bitRevFactor</ref>,<sp/>S-&gt;<ref refid="structriscv__cfft__radix4__instance__q31_1a77d494b04ee410e3d3c9b040f2776cd3" kindref="member">pBitRevTable</ref>);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal">}</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="104"><highlight class="comment"><sp/>*<sp/>Radix-4<sp/>FFT<sp/>algorithm<sp/>used<sp/>is<sp/>:</highlight></codeline>
<codeline lineno="105"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="106"><highlight class="comment"><sp/>*<sp/>Input<sp/>real<sp/>and<sp/>imaginary<sp/>data:</highlight></codeline>
<codeline lineno="107"><highlight class="comment"><sp/>*<sp/>x(n)<sp/>=<sp/>xa<sp/>+<sp/>j<sp/>*<sp/>ya</highlight></codeline>
<codeline lineno="108"><highlight class="comment"><sp/>*<sp/>x(n+N/4<sp/>)<sp/>=<sp/>xb<sp/>+<sp/>j<sp/>*<sp/>yb</highlight></codeline>
<codeline lineno="109"><highlight class="comment"><sp/>*<sp/>x(n+N/2<sp/>)<sp/>=<sp/>xc<sp/>+<sp/>j<sp/>*<sp/>yc</highlight></codeline>
<codeline lineno="110"><highlight class="comment"><sp/>*<sp/>x(n+3N<sp/>4)<sp/>=<sp/>xd<sp/>+<sp/>j<sp/>*<sp/>yd</highlight></codeline>
<codeline lineno="111"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="112"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="113"><highlight class="comment"><sp/>*<sp/>Output<sp/>real<sp/>and<sp/>imaginary<sp/>data:</highlight></codeline>
<codeline lineno="114"><highlight class="comment"><sp/>*<sp/>x(4r)<sp/>=<sp/>xa&apos;+<sp/>j<sp/>*<sp/>ya&apos;</highlight></codeline>
<codeline lineno="115"><highlight class="comment"><sp/>*<sp/>x(4r+1)<sp/>=<sp/>xb&apos;+<sp/>j<sp/>*<sp/>yb&apos;</highlight></codeline>
<codeline lineno="116"><highlight class="comment"><sp/>*<sp/>x(4r+2)<sp/>=<sp/>xc&apos;+<sp/>j<sp/>*<sp/>yc&apos;</highlight></codeline>
<codeline lineno="117"><highlight class="comment"><sp/>*<sp/>x(4r+3)<sp/>=<sp/>xd&apos;+<sp/>j<sp/>*<sp/>yd&apos;</highlight></codeline>
<codeline lineno="118"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="119"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="120"><highlight class="comment"><sp/>*<sp/>Twiddle<sp/>factors<sp/>for<sp/>radix-4<sp/>FFT:</highlight></codeline>
<codeline lineno="121"><highlight class="comment"><sp/>*<sp/>Wn<sp/>=<sp/>co1<sp/>+<sp/>j<sp/>*<sp/>(-<sp/>si1)</highlight></codeline>
<codeline lineno="122"><highlight class="comment"><sp/>*<sp/>W2n<sp/>=<sp/>co2<sp/>+<sp/>j<sp/>*<sp/>(-<sp/>si2)</highlight></codeline>
<codeline lineno="123"><highlight class="comment"><sp/>*<sp/>W3n<sp/>=<sp/>co3<sp/>+<sp/>j<sp/>*<sp/>(-<sp/>si3)</highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/>*<sp/><sp/>Butterfly<sp/>implementation:</highlight></codeline>
<codeline lineno="126"><highlight class="comment"><sp/>*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd</highlight></codeline>
<codeline lineno="127"><highlight class="comment"><sp/>*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd</highlight></codeline>
<codeline lineno="128"><highlight class="comment"><sp/>*<sp/>xb&apos;<sp/>=<sp/>(xa+yb-xc-yd)*<sp/>co1<sp/>+<sp/>(ya-xb-yc+xd)*<sp/>(si1)</highlight></codeline>
<codeline lineno="129"><highlight class="comment"><sp/>*<sp/>yb&apos;<sp/>=<sp/>(ya-xb-yc+xd)*<sp/>co1<sp/>-<sp/>(xa+yb-xc-yd)*<sp/>(si1)</highlight></codeline>
<codeline lineno="130"><highlight class="comment"><sp/>*<sp/>xc&apos;<sp/>=<sp/>(xa-xb+xc-xd)*<sp/>co2<sp/>+<sp/>(ya-yb+yc-yd)*<sp/>(si2)</highlight></codeline>
<codeline lineno="131"><highlight class="comment"><sp/>*<sp/>yc&apos;<sp/>=<sp/>(ya-yb+yc-yd)*<sp/>co2<sp/>-<sp/>(xa-xb+xc-xd)*<sp/>(si2)</highlight></codeline>
<codeline lineno="132"><highlight class="comment"><sp/>*<sp/>xd&apos;<sp/>=<sp/>(xa-yb-xc+yd)*<sp/>co3<sp/>+<sp/>(ya+xb-yc-xd)*<sp/>(si3)</highlight></codeline>
<codeline lineno="133"><highlight class="comment"><sp/>*<sp/>yd&apos;<sp/>=<sp/>(ya+xb-yc-xd)*<sp/>co3<sp/>-<sp/>(xa-yb-xc+yd)*<sp/>(si3)</highlight></codeline>
<codeline lineno="134"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="135"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>riscv_radix4_butterfly_q31(</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*<sp/>pSrc,</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>fftLen,</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>q31_t<sp/>*<sp/>pCoef,</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>twidCoefModifier)</highlight></codeline>
<codeline lineno="151"><highlight class="normal">{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>n1,<sp/>n2,<sp/>ia1,<sp/>ia2,<sp/>ia3,<sp/>i0,<sp/>i1,<sp/>i2,<sp/>i3,<sp/>j,<sp/>k;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>t1,<sp/>t2,<sp/>r1,<sp/>r2,<sp/>s1,<sp/>s2,<sp/>co1,<sp/>co2,<sp/>co3,<sp/>si1,<sp/>si2,<sp/>si3;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>xa,<sp/>xb,<sp/>xc,<sp/>xd;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>ya,<sp/>yb,<sp/>yc,<sp/>yd;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>xa_out,<sp/>xb_out,<sp/>xc_out,<sp/>xd_out;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>ya_out,<sp/>yb_out,<sp/>yc_out,<sp/>yd_out;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*ptr1;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Total<sp/>process<sp/>is<sp/>divided<sp/>into<sp/>three<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>process<sp/>first<sp/>stage,<sp/>middle<sp/>stages,<sp/>&amp;<sp/>last<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>start<sp/>of<sp/>first<sp/>stage<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Initializations<sp/>for<sp/>the<sp/>first<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/>n2<sp/>=<sp/>fftLen;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>n1<sp/>=<sp/>n2;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>n2<sp/>=<sp/>fftLen/4<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/>n2<sp/>&gt;&gt;=<sp/>2U;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/>i0<sp/>=<sp/>0U;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/>ia1<sp/>=<sp/>0U;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/>j<sp/>=<sp/>n2;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Calculation<sp/>of<sp/>first<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>input<sp/>as,<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>pSrc[i0<sp/>+<sp/>0],<sp/>pSrc[i0<sp/>+<sp/>fftLen/4],<sp/>pSrc[i0<sp/>+<sp/>fftLen/2U],<sp/>pSrc[i0<sp/>+<sp/>3fftLen/4]<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>i1<sp/>=<sp/>i0<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>i2<sp/>=<sp/>i1<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>i3<sp/>=<sp/>i2<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>input<sp/>is<sp/>in<sp/>1.31(q31)<sp/>format<sp/>and<sp/>provide<sp/>4<sp/>guard<sp/>bits<sp/>for<sp/>the<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Butterfly<sp/>implementation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>+<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i0)]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[(2U<sp/>*<sp/>i2)]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>-<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i0)]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[(2U<sp/>*<sp/>i2)]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i1)]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[(2U<sp/>*<sp/>i3)]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>+<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>-<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>=<sp/>(r1<sp/>+<sp/>t1);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>+<sp/>xc)<sp/>-<sp/>(xb<sp/>+<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r1<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>=<sp/>(s1<sp/>+<sp/>t2);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>+<sp/>yc)<sp/>-<sp/>(yb<sp/>+<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s1<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb<sp/>-<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb<sp/>-<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i1)]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[(2U<sp/>*<sp/>i3)]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>coefficients<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>ia2<sp/>=<sp/>2U<sp/>*<sp/>ia1;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>co2<sp/>=<sp/>pCoef[(ia2<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>si2<sp/>=<sp/>pCoef[(ia2<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xc&apos;<sp/>=<sp/>(xa-xb+xc-xd)co2<sp/>+<sp/>(ya-yb+yc-yd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yc&apos;<sp/>=<sp/>(ya-yb+yc-yd)co2<sp/>-<sp/>(xa-xb+xc-xd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>+<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r2<sp/>+<sp/>t1;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>-<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>r2<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>-<sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s2<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>+<sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>s2<sp/>+<sp/>t2;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>co1<sp/>=<sp/>pCoef[(ia1<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>si1<sp/>=<sp/>pCoef[(ia1<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb&apos;<sp/>=<sp/>(xa+yb-xc-yd)co1<sp/>+<sp/>(ya-xb-yc+xd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i2]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb&apos;<sp/>=<sp/>(ya-xb-yc+xd)co1<sp/>-<sp/>(xa+yb-xc-yd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>coefficients<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>ia3<sp/>=<sp/>3U<sp/>*<sp/>ia1;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>co3<sp/>=<sp/>pCoef[(ia3<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>si3<sp/>=<sp/>pCoef[(ia3<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xd&apos;<sp/>=<sp/>(xa-yb-xc+yd)co3<sp/>+<sp/>(ya+xb-yc-xd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i3]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yd&apos;<sp/>=<sp/>(ya+xb-yc-xd)co3<sp/>-<sp/>(xa-yb-xc+yd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Twiddle<sp/>coefficients<sp/>index<sp/>modifier<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>ia1<sp/>=<sp/>ia1<sp/>+<sp/>twidCoefModifier;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Updating<sp/>input<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>i0<sp/>=<sp/>i0<sp/>+<sp/>1U;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(--j);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>end<sp/>of<sp/>first<sp/>stage<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>5.27(q27)<sp/>format<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>start<sp/>of<sp/>Middle<sp/>stages<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>each<sp/>stage<sp/>in<sp/>middle<sp/>stages<sp/>provides<sp/>two<sp/>down<sp/>scaling<sp/>of<sp/>the<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/>twidCoefModifier<sp/>&lt;&lt;=<sp/>2U;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(k<sp/>=<sp/>fftLen<sp/>/<sp/>4U;<sp/>k<sp/>&gt;<sp/>4U;<sp/>k<sp/>&gt;&gt;=<sp/>2U)</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Initializations<sp/>for<sp/>the<sp/>first<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>n1<sp/>=<sp/>n2;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>n2<sp/>&gt;&gt;=<sp/>2U;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>ia1<sp/>=<sp/>0U;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Calculation<sp/>of<sp/>first<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(j<sp/>=<sp/>0U;<sp/>j<sp/>&lt;=<sp/>(n2<sp/>-<sp/>1U);<sp/>j++)</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>coefficients<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ia2<sp/>=<sp/>ia1<sp/>+<sp/>ia1;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ia3<sp/>=<sp/>ia2<sp/>+<sp/>ia1;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>co1<sp/>=<sp/>pCoef[(ia1<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>si1<sp/>=<sp/>pCoef[(ia1<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>co2<sp/>=<sp/>pCoef[(ia2<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>si2<sp/>=<sp/>pCoef[(ia2<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>co3<sp/>=<sp/>pCoef[(ia3<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>si3<sp/>=<sp/>pCoef[(ia3<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Twiddle<sp/>coefficients<sp/>index<sp/>modifier<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ia1<sp/>=<sp/>ia1<sp/>+<sp/>twidCoefModifier;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i0<sp/>=<sp/>j;<sp/>i0<sp/>&lt;<sp/>fftLen;<sp/>i0<sp/>+=<sp/>n1)</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>input<sp/>as,<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>pSrc[i0<sp/>+<sp/>0],<sp/>pSrc[i0<sp/>+<sp/>fftLen/4],<sp/>pSrc[i0<sp/>+<sp/>fftLen/2U],<sp/>pSrc[i0<sp/>+<sp/>3fftLen/4]<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i1<sp/>=<sp/>i0<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i2<sp/>=<sp/>i1<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i3<sp/>=<sp/>i2<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Butterfly<sp/>implementation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>+<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>+<sp/>pSrc[2U<sp/>*<sp/>i2];</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>-<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>-<sp/>pSrc[2U<sp/>*<sp/>i2];</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>+<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>+<sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>-<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>-<sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>+<sp/>pSrc[2U<sp/>*<sp/>i3];</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>=<sp/>(r1<sp/>+<sp/>t1)<sp/>&gt;&gt;<sp/>2U;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>+<sp/>xc<sp/>-(xb<sp/>+<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r1<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>+<sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>=<sp/>(s1<sp/>+<sp/>t2)<sp/>&gt;&gt;<sp/>2U;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>+<sp/>yc)<sp/>-<sp/>(yb<sp/>+<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s1<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>-<sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>-<sp/>pSrc[2U<sp/>*<sp/>i3];</highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xc&apos;<sp/>=<sp/>(xa-xb+xc-xd)co2<sp/>+<sp/>(ya-yb+yc-yd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yc&apos;<sp/>=<sp/>(ya-yb+yc-yd)co2<sp/>-<sp/>(xa-xb+xc-xd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>+<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r2<sp/>+<sp/>t1;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>-<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>r2<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>-<sp/><sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s2<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>+<sp/><sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>s2<sp/>+<sp/>t2;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb&apos;<sp/>=<sp/>(xa+yb-xc-yd)co1<sp/>+<sp/>(ya-xb-yc+xd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i2]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb&apos;<sp/>=<sp/>(ya-xb-yc+xd)co1<sp/>-<sp/>(xa+yb-xc-yd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xd&apos;<sp/>=<sp/>(xa-yb-xc+yd)co3<sp/>+<sp/>(ya+xb-yc-xd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i3]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yd&apos;<sp/>=<sp/>(ya+xb-yc-xd)co3<sp/>-<sp/>(xa-yb-xc+yd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/>twidCoefModifier<sp/>&lt;&lt;=<sp/>2U;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>Middle<sp/>stages<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>11.21(q21)<sp/>format<sp/>for<sp/>the<sp/>1024<sp/>point<sp/>as<sp/>there<sp/>are<sp/>3<sp/>middle<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>9.23(q23)<sp/>format<sp/>for<sp/>the<sp/>256<sp/>point<sp/>as<sp/>there<sp/>are<sp/>2<sp/>middle<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>7.25(q25)<sp/>format<sp/>for<sp/>the<sp/>64<sp/>point<sp/>as<sp/>there<sp/>are<sp/>1<sp/>middle<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>5.27(q27)<sp/>format<sp/>for<sp/>the<sp/>16<sp/>point<sp/>as<sp/>there<sp/>are<sp/>no<sp/>middle<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>start<sp/>of<sp/>Last<sp/>stage<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Initializations<sp/>for<sp/>the<sp/>last<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/>j<sp/>=<sp/>fftLen<sp/>&gt;&gt;<sp/>2;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/>ptr1<sp/>=<sp/>&amp;pSrc[0];</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Calculations<sp/>of<sp/>last<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xa<sp/>(real),<sp/>ya(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>xa<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>ya<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xb<sp/>(real),<sp/>yb(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/>xb<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>yb<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xc<sp/>(real),<sp/>yc(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>xc<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/>yc<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xc<sp/>(real),<sp/>yc(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/>xd<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>yd<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/>xa_out<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>ya_out<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>pointer<sp/>updation<sp/>for<sp/>writing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr1<sp/>=<sp/>ptr1<sp/>-<sp/>8U;</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xa&apos;<sp/>and<sp/>ya&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xa_out;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>ya_out;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/>xc_out<sp/>=<sp/>(xa<sp/>-<sp/>xb<sp/>+<sp/>xc<sp/>-<sp/>xd);</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/>yc_out<sp/>=<sp/>(ya<sp/>-<sp/>yb<sp/>+<sp/>yc<sp/>-<sp/>yd);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xc&apos;<sp/>and<sp/>yc&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xc_out;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>yc_out;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>xb_out<sp/>=<sp/>(xa<sp/>+<sp/>yb<sp/>-<sp/>xc<sp/>-<sp/>yd);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>yb_out<sp/>=<sp/>(ya<sp/>-<sp/>xb<sp/>-<sp/>yc<sp/>+<sp/>xd);</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xb&apos;<sp/>and<sp/>yb&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xb_out;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>yb_out;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>xd_out<sp/>=<sp/>(xa<sp/>-<sp/>yb<sp/>-<sp/>xc<sp/>+<sp/>yd);</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>yd_out<sp/>=<sp/>(ya<sp/>+<sp/>xb<sp/>-<sp/>yc<sp/>-<sp/>xd);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xd&apos;<sp/>and<sp/>yd&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xd_out;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>yd_out;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(--j);</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>11.21(q21)<sp/>format<sp/>for<sp/>the<sp/>1024<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>9.23(q23)<sp/>format<sp/>for<sp/>the<sp/>256<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>7.25(q25)<sp/>format<sp/>for<sp/>the<sp/>64<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>5.27(q27)<sp/>format<sp/>for<sp/>the<sp/>16<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>last<sp/>stage<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal">}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="479"><highlight class="comment"><sp/>*<sp/>Radix-4<sp/>IFFT<sp/>algorithm<sp/>used<sp/>is<sp/>:</highlight></codeline>
<codeline lineno="480"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="481"><highlight class="comment"><sp/>*<sp/>CIFFT<sp/>uses<sp/>same<sp/>twiddle<sp/>coefficients<sp/>as<sp/>CFFT<sp/>Function</highlight></codeline>
<codeline lineno="482"><highlight class="comment"><sp/>*<sp/><sp/>x[k]<sp/>=<sp/>x[n]<sp/>+<sp/>(j)k<sp/>*<sp/>x[n<sp/>+<sp/>fftLen/4]<sp/>+<sp/>(-1)k<sp/>*<sp/>x[n+fftLen/2]<sp/>+<sp/>(-j)k<sp/>*<sp/>x[n+3*fftLen/4]</highlight></codeline>
<codeline lineno="483"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="484"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="485"><highlight class="comment"><sp/>*<sp/>IFFT<sp/>is<sp/>implemented<sp/>with<sp/>following<sp/>changes<sp/>in<sp/>equations<sp/>from<sp/>FFT</highlight></codeline>
<codeline lineno="486"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="487"><highlight class="comment"><sp/>*<sp/>Input<sp/>real<sp/>and<sp/>imaginary<sp/>data:</highlight></codeline>
<codeline lineno="488"><highlight class="comment"><sp/>*<sp/>x(n)<sp/>=<sp/>xa<sp/>+<sp/>j<sp/>*<sp/>ya</highlight></codeline>
<codeline lineno="489"><highlight class="comment"><sp/>*<sp/>x(n+N/4<sp/>)<sp/>=<sp/>xb<sp/>+<sp/>j<sp/>*<sp/>yb</highlight></codeline>
<codeline lineno="490"><highlight class="comment"><sp/>*<sp/>x(n+N/2<sp/>)<sp/>=<sp/>xc<sp/>+<sp/>j<sp/>*<sp/>yc</highlight></codeline>
<codeline lineno="491"><highlight class="comment"><sp/>*<sp/>x(n+3N<sp/>4)<sp/>=<sp/>xd<sp/>+<sp/>j<sp/>*<sp/>yd</highlight></codeline>
<codeline lineno="492"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="493"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="494"><highlight class="comment"><sp/>*<sp/>Output<sp/>real<sp/>and<sp/>imaginary<sp/>data:</highlight></codeline>
<codeline lineno="495"><highlight class="comment"><sp/>*<sp/>x(4r)<sp/>=<sp/>xa&apos;+<sp/>j<sp/>*<sp/>ya&apos;</highlight></codeline>
<codeline lineno="496"><highlight class="comment"><sp/>*<sp/>x(4r+1)<sp/>=<sp/>xb&apos;+<sp/>j<sp/>*<sp/>yb&apos;</highlight></codeline>
<codeline lineno="497"><highlight class="comment"><sp/>*<sp/>x(4r+2)<sp/>=<sp/>xc&apos;+<sp/>j<sp/>*<sp/>yc&apos;</highlight></codeline>
<codeline lineno="498"><highlight class="comment"><sp/>*<sp/>x(4r+3)<sp/>=<sp/>xd&apos;+<sp/>j<sp/>*<sp/>yd&apos;</highlight></codeline>
<codeline lineno="499"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="500"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="501"><highlight class="comment"><sp/>*<sp/>Twiddle<sp/>factors<sp/>for<sp/>radix-4<sp/>IFFT:</highlight></codeline>
<codeline lineno="502"><highlight class="comment"><sp/>*<sp/>Wn<sp/>=<sp/>co1<sp/>+<sp/>j<sp/>*<sp/>(si1)</highlight></codeline>
<codeline lineno="503"><highlight class="comment"><sp/>*<sp/>W2n<sp/>=<sp/>co2<sp/>+<sp/>j<sp/>*<sp/>(si2)</highlight></codeline>
<codeline lineno="504"><highlight class="comment"><sp/>*<sp/>W3n<sp/>=<sp/>co3<sp/>+<sp/>j<sp/>*<sp/>(si3)</highlight></codeline>
<codeline lineno="505"><highlight class="comment"><sp/></highlight></codeline>
<codeline lineno="506"><highlight class="comment"><sp/>*<sp/>The<sp/>real<sp/>and<sp/>imaginary<sp/>output<sp/>values<sp/>for<sp/>the<sp/>radix-4<sp/>butterfly<sp/>are</highlight></codeline>
<codeline lineno="507"><highlight class="comment"><sp/>*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd</highlight></codeline>
<codeline lineno="508"><highlight class="comment"><sp/>*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd</highlight></codeline>
<codeline lineno="509"><highlight class="comment"><sp/>*<sp/>xb&apos;<sp/>=<sp/>(xa-yb-xc+yd)*<sp/>co1<sp/>-<sp/>(ya+xb-yc-xd)*<sp/>(si1)</highlight></codeline>
<codeline lineno="510"><highlight class="comment"><sp/>*<sp/>yb&apos;<sp/>=<sp/>(ya+xb-yc-xd)*<sp/>co1<sp/>+<sp/>(xa-yb-xc+yd)*<sp/>(si1)</highlight></codeline>
<codeline lineno="511"><highlight class="comment"><sp/>*<sp/>xc&apos;<sp/>=<sp/>(xa-xb+xc-xd)*<sp/>co2<sp/>-<sp/>(ya-yb+yc-yd)*<sp/>(si2)</highlight></codeline>
<codeline lineno="512"><highlight class="comment"><sp/>*<sp/>yc&apos;<sp/>=<sp/>(ya-yb+yc-yd)*<sp/>co2<sp/>+<sp/>(xa-xb+xc-xd)*<sp/>(si2)</highlight></codeline>
<codeline lineno="513"><highlight class="comment"><sp/>*<sp/>xd&apos;<sp/>=<sp/>(xa+yb-xc-yd)*<sp/>co3<sp/>-<sp/>(ya-xb-yc+xd)*<sp/>(si3)</highlight></codeline>
<codeline lineno="514"><highlight class="comment"><sp/>*<sp/>yd&apos;<sp/>=<sp/>(ya-xb-yc+xd)*<sp/>co3<sp/>+<sp/>(xa+yb-xc-yd)*<sp/>(si3)</highlight></codeline>
<codeline lineno="515"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="516"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>riscv_radix4_butterfly_inverse_q31(</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*<sp/>pSrc,</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>fftLen,</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>q31_t<sp/>*<sp/>pCoef,</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>twidCoefModifier)</highlight></codeline>
<codeline lineno="523"><highlight class="normal">{</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>n1,<sp/>n2,<sp/>ia1,<sp/>ia2,<sp/>ia3,<sp/>i0,<sp/>i1,<sp/>i2,<sp/>i3,<sp/>j,<sp/>k;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>t1,<sp/>t2,<sp/>r1,<sp/>r2,<sp/>s1,<sp/>s2,<sp/>co1,<sp/>co2,<sp/>co3,<sp/>si1,<sp/>si2,<sp/>si3;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>xa,<sp/>xb,<sp/>xc,<sp/>xd;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>ya,<sp/>yb,<sp/>yc,<sp/>yd;</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>xa_out,<sp/>xb_out,<sp/>xc_out,<sp/>xd_out;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>ya_out,<sp/>yb_out,<sp/>yc_out,<sp/>yd_out;</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q31_t<sp/>*ptr1;</highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>input<sp/>is<sp/>be<sp/>1.31(q31)<sp/>format<sp/>for<sp/>all<sp/>FFT<sp/>sizes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Total<sp/>process<sp/>is<sp/>divided<sp/>into<sp/>three<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>process<sp/>first<sp/>stage,<sp/>middle<sp/>stages,<sp/>&amp;<sp/>last<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>of<sp/>first<sp/>stage<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initializations<sp/>for<sp/>the<sp/>first<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/>n2<sp/>=<sp/>fftLen;</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/>n1<sp/>=<sp/>n2;</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>n2<sp/>=<sp/>fftLen/4<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/>n2<sp/>&gt;&gt;=<sp/>2U;</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/>i0<sp/>=<sp/>0U;</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/>ia1<sp/>=<sp/>0U;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/>j<sp/>=<sp/>n2;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>input<sp/>is<sp/>in<sp/>1.31(q31)<sp/>format<sp/>and<sp/>provide<sp/>4<sp/>guard<sp/>bits<sp/>for<sp/>the<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>input<sp/>as,<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>pSrc[i0<sp/>+<sp/>0],<sp/>pSrc[i0<sp/>+<sp/>fftLen/4],<sp/>pSrc[i0<sp/>+<sp/>fftLen/2U],<sp/>pSrc[i0<sp/>+<sp/>3fftLen/4]<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/>i1<sp/>=<sp/>i0<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/>i2<sp/>=<sp/>i1<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/>i3<sp/>=<sp/>i2<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Butterfly<sp/>implementation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>+<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>(pSrc[2U<sp/>*<sp/>i0]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[2U<sp/>*<sp/>i2]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>-<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>(pSrc[2U<sp/>*<sp/>i0]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[2U<sp/>*<sp/>i2]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>(pSrc[2U<sp/>*<sp/>i1]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[2U<sp/>*<sp/>i3]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>+<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>-<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>=<sp/>(r1<sp/>+<sp/>t1);</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>+<sp/>xc)<sp/>-<sp/>(xb<sp/>+<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r1<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>+<sp/>(pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>=<sp/>(s1<sp/>+<sp/>t2);</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>+<sp/>yc)<sp/>-<sp/>(yb<sp/>+<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s1<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb<sp/>-<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>(pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb<sp/>-<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>(pSrc[2U<sp/>*<sp/>i1]<sp/>&gt;&gt;<sp/>4U)<sp/>-<sp/>(pSrc[2U<sp/>*<sp/>i3]<sp/>&gt;&gt;<sp/>4U);</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>coefficients<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/>ia2<sp/>=<sp/>2U<sp/>*<sp/>ia1;</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>co2<sp/>=<sp/>pCoef[ia2<sp/>*<sp/>2U];</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/>si2<sp/>=<sp/>pCoef[(ia2<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xc&apos;<sp/>=<sp/>(xa-xb+xc-xd)co2<sp/>-<sp/>(ya-yb+yc-yd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yc&apos;<sp/>=<sp/>(ya-yb+yc-yd)co2<sp/>+<sp/>(xa-xb+xc-xd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i1<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="602"><highlight class="normal"></highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>-<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r2<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>+<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>r2<sp/>+<sp/>t1;</highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>+<sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s2<sp/>+<sp/>t2;</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>-<sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>s2<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="612"><highlight class="normal"></highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/>co1<sp/>=<sp/>pCoef[ia1<sp/>*<sp/>2U];</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/>si1<sp/>=<sp/>pCoef[(ia1<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="615"><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb&apos;<sp/>=<sp/>(xa+yb-xc-yd)co1<sp/>-<sp/>(ya-xb-yc+xd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i2]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb&apos;<sp/>=<sp/>(ya-xb-yc+xd)co1<sp/>+<sp/>(xa+yb-xc-yd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="623"><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>coefficients<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/>ia3<sp/>=<sp/>3U<sp/>*<sp/>ia1;</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/>co3<sp/>=<sp/>pCoef[ia3<sp/>*<sp/>2U];</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/>si3<sp/>=<sp/>pCoef[(ia3<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xd&apos;<sp/>=<sp/>(xa-yb-xc+yd)co3<sp/>-<sp/>(ya+xb-yc-xd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i3]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yd&apos;<sp/>=<sp/>(ya+xb-yc-xd)co3<sp/>+<sp/>(xa-yb-xc+yd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&lt;&lt;<sp/>1U;</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Twiddle<sp/>coefficients<sp/>index<sp/>modifier<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/>ia1<sp/>=<sp/>ia1<sp/>+<sp/>twidCoefModifier;</highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Updating<sp/>input<sp/>index<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>i0<sp/>=<sp/>i0<sp/>+<sp/>1U;</highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(--j);</highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>5.27(q27)<sp/>format<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>each<sp/>stage<sp/>provides<sp/>two<sp/>down<sp/>scaling<sp/>of<sp/>the<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>of<sp/>Middle<sp/>stages<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/>twidCoefModifier<sp/>&lt;&lt;=<sp/>2U;</highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Calculation<sp/>of<sp/>second<sp/>stage<sp/>to<sp/>excluding<sp/>last<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(k<sp/>=<sp/>fftLen<sp/>/<sp/>4U;<sp/>k<sp/>&gt;<sp/>4U;<sp/>k<sp/>&gt;&gt;=<sp/>2U)</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Initializations<sp/>for<sp/>the<sp/>first<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/>n1<sp/>=<sp/>n2;</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/>n2<sp/>&gt;&gt;=<sp/>2U;</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>ia1<sp/>=<sp/>0U;</highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(j<sp/>=<sp/>0;<sp/>j<sp/>&lt;=<sp/>(n2<sp/>-<sp/>1U);<sp/>j++)</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>coefficients<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ia2<sp/>=<sp/>ia1<sp/>+<sp/>ia1;</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ia3<sp/>=<sp/>ia2<sp/>+<sp/>ia1;</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>co1<sp/>=<sp/>pCoef[(ia1<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>si1<sp/>=<sp/>pCoef[(ia1<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>co2<sp/>=<sp/>pCoef[(ia2<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>si2<sp/>=<sp/>pCoef[(ia2<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>co3<sp/>=<sp/>pCoef[(ia3<sp/>*<sp/>2U)];</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>si3<sp/>=<sp/>pCoef[(ia3<sp/>*<sp/>2U)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Twiddle<sp/>coefficients<sp/>index<sp/>modifier<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ia1<sp/>=<sp/>ia1<sp/>+<sp/>twidCoefModifier;</highlight></codeline>
<codeline lineno="674"><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i0<sp/>=<sp/>j;<sp/>i0<sp/>&lt;<sp/>fftLen;<sp/>i0<sp/>+=<sp/>n1)</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>index<sp/>calculation<sp/>for<sp/>the<sp/>input<sp/>as,<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>pSrc[i0<sp/>+<sp/>0],<sp/>pSrc[i0<sp/>+<sp/>fftLen/4],<sp/>pSrc[i0<sp/>+<sp/>fftLen/2U],<sp/>pSrc[i0<sp/>+<sp/>3fftLen/4]<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i1<sp/>=<sp/>i0<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i2<sp/>=<sp/>i1<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i3<sp/>=<sp/>i2<sp/>+<sp/>n2;</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Butterfly<sp/>implementation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>+<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>+<sp/>pSrc[2U<sp/>*<sp/>i2];</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>-<sp/>xc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>-<sp/>pSrc[2U<sp/>*<sp/>i2];</highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>+<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>+<sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya<sp/>-<sp/>yc<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>-<sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>+<sp/>pSrc[2U<sp/>*<sp/>i3];</highlight></codeline>
<codeline lineno="696"><highlight class="normal"></highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i0]<sp/>=<sp/>(r1<sp/>+<sp/>t1)<sp/>&gt;&gt;<sp/>2U;</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa<sp/>+<sp/>xc<sp/>-(xb<sp/>+<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r1<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>+<sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i0)<sp/>+<sp/>1U]<sp/>=<sp/>(s1<sp/>+<sp/>t2)<sp/>&gt;&gt;<sp/>2U;</highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>+<sp/>yc)<sp/>-<sp/>(yb<sp/>+<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s1<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t1<sp/>=<sp/>pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>-<sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U];</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t2<sp/>=<sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>-<sp/>pSrc[2U<sp/>*<sp/>i3];</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xc&apos;<sp/>=<sp/>(xa-xb+xc-xd)co2<sp/>-<sp/>(ya-yb+yc-yd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i1]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32U))<sp/>-</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32U)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="717"><highlight class="normal"></highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yc&apos;<sp/>=<sp/>(ya-yb+yc-yd)co2<sp/>+<sp/>(xa-xb+xc-xd)(si2)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i1)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co2)<sp/>&gt;&gt;<sp/>32U))<sp/>+</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si2)<sp/>&gt;&gt;<sp/>32U)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>-<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1<sp/>=<sp/>r2<sp/>-<sp/>t1;</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(xa<sp/>-<sp/>xc)<sp/>+<sp/>(yb<sp/>-<sp/>yd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r2<sp/>=<sp/>r2<sp/>+<sp/>t1;</highlight></codeline>
<codeline lineno="726"><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>+<sp/><sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>s2<sp/>+<sp/>t2;</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>(ya<sp/>-<sp/>yc)<sp/>-<sp/><sp/>(xb<sp/>-<sp/>xd)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>s2<sp/>-<sp/>t2;</highlight></codeline>
<codeline lineno="731"><highlight class="normal"></highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xb&apos;<sp/>=<sp/>(xa+yb-xc-yd)co1<sp/>-<sp/>(ya-xb-yc+xd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[2U<sp/>*<sp/>i2]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yb&apos;<sp/>=<sp/>(ya-xb-yc+xd)co1<sp/>+<sp/>(xa+yb-xc-yd)(si1)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i2)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s1<sp/>*<sp/>co1)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r1<sp/>*<sp/>si1)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xd&apos;<sp/>=<sp/>(xa-yb-xc+yd)co3<sp/>-<sp/>(ya+xb-yc-xd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i3)]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>-</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="743"><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>yd&apos;<sp/>=<sp/>(ya+xb-yc-xd)co3<sp/>+<sp/>(xa-yb-xc+yd)(si3)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSrc[(2U<sp/>*<sp/>i3)<sp/>+<sp/>1U]<sp/>=<sp/>(((int32_t)<sp/>(((q63_t)<sp/>s2<sp/>*<sp/>co3)<sp/>&gt;&gt;<sp/>32))<sp/>+</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((int32_t)<sp/>(((q63_t)<sp/>r2<sp/>*<sp/>si3)<sp/>&gt;&gt;<sp/>32)))<sp/>&gt;&gt;<sp/>1U;</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/>twidCoefModifier<sp/>&lt;&lt;=<sp/>2U;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="751"><highlight class="normal"></highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>Middle<sp/>stages<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>11.21(q21)<sp/>format<sp/>for<sp/>the<sp/>1024<sp/>point<sp/>as<sp/>there<sp/>are<sp/>3<sp/>middle<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>9.23(q23)<sp/>format<sp/>for<sp/>the<sp/>256<sp/>point<sp/>as<sp/>there<sp/>are<sp/>2<sp/>middle<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>7.25(q25)<sp/>format<sp/>for<sp/>the<sp/>64<sp/>point<sp/>as<sp/>there<sp/>are<sp/>1<sp/>middle<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>data<sp/>is<sp/>in<sp/>5.27(q27)<sp/>format<sp/>for<sp/>the<sp/>16<sp/>point<sp/>as<sp/>there<sp/>are<sp/>no<sp/>middle<sp/>stages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>of<sp/>last<sp/>stage<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Initializations<sp/>for<sp/>the<sp/>last<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/>j<sp/>=<sp/>fftLen<sp/>&gt;&gt;<sp/>2;</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/>ptr1<sp/>=<sp/>&amp;pSrc[0];</highlight></codeline>
<codeline lineno="766"><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>Calculations<sp/>of<sp/>last<sp/>stage<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xa<sp/>(real),<sp/>ya(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/>xa<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/>ya<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xb<sp/>(real),<sp/>yb(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/>xb<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/>yb<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="777"><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xc<sp/>(real),<sp/>yc(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/>xc<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/>yc<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="781"><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>xc<sp/>(real),<sp/>yc(imag)<sp/>input<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/>xd<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/>yd<sp/>=<sp/>*ptr1++;</highlight></codeline>
<codeline lineno="785"><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>xa&apos;<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/>xa_out<sp/>=<sp/>xa<sp/>+<sp/>xb<sp/>+<sp/>xc<sp/>+<sp/>xd;</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ya&apos;<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/>ya_out<sp/>=<sp/>ya<sp/>+<sp/>yb<sp/>+<sp/>yc<sp/>+<sp/>yd;</highlight></codeline>
<codeline lineno="791"><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>pointer<sp/>updation<sp/>for<sp/>writing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr1<sp/>=<sp/>ptr1<sp/>-<sp/>8U;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"></highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xa&apos;<sp/>and<sp/>ya&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xa_out;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>ya_out;</highlight></codeline>
<codeline lineno="798"><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/>xc_out<sp/>=<sp/>(xa<sp/>-<sp/>xb<sp/>+<sp/>xc<sp/>-<sp/>xd);</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/>yc_out<sp/>=<sp/>(ya<sp/>-<sp/>yb<sp/>+<sp/>yc<sp/>-<sp/>yd);</highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xc&apos;<sp/>and<sp/>yc&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xc_out;</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>yc_out;</highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/>xb_out<sp/>=<sp/>(xa<sp/>-<sp/>yb<sp/>-<sp/>xc<sp/>+<sp/>yd);</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/>yb_out<sp/>=<sp/>(ya<sp/>+<sp/>xb<sp/>-<sp/>yc<sp/>-<sp/>xd);</highlight></codeline>
<codeline lineno="808"><highlight class="normal"></highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xb&apos;<sp/>and<sp/>yb&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xb_out;</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>yb_out;</highlight></codeline>
<codeline lineno="812"><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/>xd_out<sp/>=<sp/>(xa<sp/>+<sp/>yb<sp/>-<sp/>xc<sp/>-<sp/>yd);</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/>yd_out<sp/>=<sp/>(ya<sp/>-<sp/>xb<sp/>-<sp/>yc<sp/>+<sp/>xd);</highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>writing<sp/>xd&apos;<sp/>and<sp/>yd&apos;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>xd_out;</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/>*ptr1++<sp/>=<sp/>yd_out;</highlight></codeline>
<codeline lineno="819"><highlight class="normal"></highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(--j);</highlight></codeline>
<codeline lineno="821"><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>11.21(q21)<sp/>format<sp/>for<sp/>the<sp/>1024<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>9.23(q23)<sp/>format<sp/>for<sp/>the<sp/>256<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>7.25(q25)<sp/>format<sp/>for<sp/>the<sp/>64<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>is<sp/>in<sp/>5.27(q27)<sp/>format<sp/>for<sp/>the<sp/>16<sp/>point<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"></highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>End<sp/>of<sp/>last<sp/>stage<sp/>process<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="828"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/home/travis/build/Nuclei-Software/NMSIS/NMSIS/DSP/Source/TransformFunctions/riscv_cfft_radix4_q31.c"/>
  </compounddef>
</doxygen>
